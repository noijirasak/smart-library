<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>หนังสือพูดได้ | Smart Library</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
  <!-- PapaParse CDN -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js" defer></script>

  <!-- ใส่เวอร์ชันกันแคช: เปลี่ยนเลขได้ทุกครั้งที่อัปเดตสคริปต์ -->
  <script src="script.js?v=build11" defer></script>
</head>
<body>
  <main class="container">
    <header>
      <h1 id="page-title">กำลังโหลดข้อมูลหนังสือ...</h1>
      <p class="subtitle">
        ใช้พารามิเตอร์ <code>?id=เลขลำดับ</code>
        และถ้ารู้หมวดให้เพิ่ม <code>&cat=000</code> (หรือ 100,…,900)
        <span class="muted">| เพิ่ม <code>&debug=1</code> เพื่อดูสถานะการโหลด</span>
      </p>
    </header>

    <section class="book" id="book-section" style="display:none">
      <img id="cover" class="cover" alt="ปกหนังสือ"/>
      <div class="meta">
        <p><strong>ชื่อหนังสือ:</strong> <span id="title"></span></p>
        <p><strong>ผู้แต่ง:</strong> <span id="author"></span></p>
        <p><strong>เลขหมวดหมู่:</strong> <span id="category"></span></p>
        <p><strong>คะแนน:</strong> <span id="score"></span></p>
        <p><strong>คำอธิบาย:</strong> <span id="description"></span></p>

        <div class="audio">
          <h2>เสียงบรรยายบทนำ</h2>
          <audio id="audio" controls autoplay muted playsinline preload="auto">เบราว์เซอร์ของคุณไม่รองรับการเล่นเสียง</audio>
          <p class="note">* โหลดจากคอลัมน์ <code>audio_url</code> (ต้องเป็นลิงก์สาธารณะ)</p>
        </div>
      </div>
    </section>

    <section id="debug" class="debug" style="display:none"></section>
    <section id="error" class="err" style="display:none"></section>
  </main>
</body>
</html>
